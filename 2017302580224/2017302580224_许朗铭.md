**P15.**
a) 否。E可以检查主机F的IP地址的⼦⽹前缀，然后了解F在同⼀个局域⽹上。因此，E不会将数据包发送到默认路由器R1。
从E到F的以太⽹帧：
源 IP=E 的 IP 地址
⽬的地 IP=F 的 IP 地址
源 MAC=E 的 MAC 地址
⽬的地 MAC=F 的 MAC 地址
b) 不，因为它们不在同⼀个局域⽹上。 E 可以通过检查 B 的 IP 地址来发现这⼀点。
从 E 到 R1 的以太⽹帧：
源 IP=E 的 IP 地址
⽬的地 IP=B 的 IP 地址
源 MAC=E 的 MAC 地址
⽬的地 MAC= 连接到⼦⽹的 R1 接⼝的 MAC 地址。
c) 交换机 S1 将通过两个接⼝⼴播以太⽹帧，因为接收到的 ARP 帧的⽬的地地址是⼴播地址。它了解到 A 驻留在连接到⼦⽹ 1 的⼦⽹ 1 上，并且 S1 将更新它的转发表以包括主机 A 的条⽬。
是的，路由器 R1 也接收这个 ARP 请求消息，但是 R1 不会将消息转发到⼦⽹ 3 。
B 不会发送请求 A 的 MAC 地址的 ARP 查询消息，因为这个地址可以从 A 的查询消息中获得。
⼀旦交换机 S1 接收到 B 的响应消息，它将在其转发表中为主机 B 添加⼀个条⽬，然后删除接收到的帧，因为⽬的地主机 A 与主机 B 在同⼀个接⼝上 ( 即 A 和 B 位于同⼀个 LAN 段上 ) 。



**P16.**

让我们称⼦⽹ 2 和 3s2 之间的切换为 S2 。也就是说，⼦⽹ 2 和 3 之间的路由器 R1 现在被交换机 S2 所取代。
a) 否。 E 可以检查主机 F 的 IP 地址的⼦⽹前缀，然后了解 F 在同⼀个 LAN 段上。因此， E 不会将数据包发送到 S2 。
从 E 到 F 的以太⽹帧：
源 IP=E 的 IP 地址
⽬的地 IP=F 的 IP 地址
源 MAC=E 的 MAC 地址
⽬的地 MAC=F 的 MAC 地址
b) 是的，因为 E 想找到 B 的 MAC 地址。在这种情况下， E 将发送⼀个 ARP 查询包，⽬标 MAC 地址是⼴播地址。
该查询包将由交换机 1 重新⼴播，最终由主机 B 。
以太⽹帧从 E 接收到 S2 ：
源 IP=E 的 IP 地址
⽬的地 IP=B 的 IP 地址
源 MAC=E 的 MAC 地址
⽬的地 MAC= ⼴播 MAC 地址： FF-FF-FF-FF-FF-FF 。
c) 交换机 S1 将通过两个接⼝⼴播以太⽹帧，因为接收到的 ARP 帧的⽬标地址是⼴播地址。它了解到 A 驻留在连接到⼦⽹ 1 的⼦⽹ 1 上，并且 S1 将更新它的转发表以包括主机A 的条⽬。
是的，路由器 S2 也接收这个 ARP 请求消息， S2 将这个查询包⼴播到它的所有接⼝。
B 不会发送请求 A 的 MAC 地址的 ARP 查询消息，因为这个地址可以从 A 的查询消息中获得。
⼀旦交换机 S1 接收到 B 的响应消息，它将在其转发表中为主机 B 添加⼀个条⽬，然后删除接收到的帧，因为⽬的地主机 A 与主机 B 在同⼀个接⼝上 ( 即 A 和 B 位于同⼀个 LAN 段上 ) 。



**P22.**
i) 从 A 到交换机：
源 MAC 地址： 00-00-00-00-00-00
⽬的地 MAC 地址： 55-55-55-55-55-55
源 IP ： 111.111.111.001
⽬的地 IP ： 133.333.333.003
ii) 从交换机到右路由器：
源 MAC 地址： 00-00-00-00-00-00
⽬的地 MAC 地址 : 55-55-55-55-55-55
源 IP: 111.111.111.001
⽬的地 IP: 133.333.333.003
iii) 从右路由器到 F ：
源 MAC 地址 : 88-88-88-88-88-88
⽬的地 MAC 地址 : 99-99-99-99-99-99
源 IP: 111.111.111.001
⽬的地 IP: 133.333.333.003